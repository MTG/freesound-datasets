{% extends "base.html" %}
{% load staticfiles %}
{% load humanize %}
{% block title %}Validate category annotations{% endblock title %}
{% block page_js %}
    <script type="text/javascript" xmlns="http://www.w3.org/1999/html">
        function enable_button() {
            $('#start_annotating_button').removeClass('disabled');
            $('#start_annotating_button_div').removeAttr("data-tooltip");
        }
        $(document).ready(function() {
            setTimeout(function() {enable_button();}, 20000);
            if ('{{skip_tempo}}'=='True'){enable_button();}
        });
    </script>
{% endblock %}
{% block content %}
<center>
    <div style="margin-top:-20px;" class="ui mini steps">
      <div class="step">
        <div class="content">
          <div class="title">FSD</div>
        </div>
      </div>
      <div class="step">
        <div class="content">
          <div class="title">Task1: validate category annotations</div>
        </div>
      </div>
      <div class="active step">
        <div class="content">
          <div class="title">Instructions</div>
        </div>
      </div>
      <div class="disabled step">
        <div class="content">
          <div class="title">1) Choose category</div>
        </div>
      </div>
      <div class="disabled step">
        <div class="content">
          <div class="title">2) Train</div>
        </div>
      </div>
      <div class="disabled step">
        <div class="content">
          <div class="title">3) Validate</div>
        </div>
      </div>
    </div>


    <h1>Instructions</h1>

<h3>This task consists of validating the presence of a sound category in audio samples</h3>
    <p>Please read these instructions carefully</p>


</center>

<div class="ui container" style="width:100%; margin-top:10px;">

    <div class="ui middle aligned grid">
      <div class="row">
        <div class="two wide left floated column">
          <div class="ui basic segment ">
            <div class="ui red statistic">
              <div class="value">
                <b>1</b>
              </div>
              <div class="label">
               Choose<br>category
              </div>
            </div>
          </div>
        </div>
        
        <div class="right floated left aligned fourteen wide column very">
            <p><i>Choose a sound category from the AudioSet Ontology.</i> </p><p style="margin-top:-25px;">If you don't feel comfortable
            with your category, please consider choosing another category.
          </p>
        </div>
      </div>
    </div>
  
    <div class="ui middle aligned grid">
      <div class="row">

        <div class="two wide left floated column">
          <div class="ui basic segment ">
            <div class="ui red statistic">
              <div class="value">
               <b>2</b>
              </div>
              <div class="label">
               &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;train&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              </div>
            </div>
          </div>
        </div>

        <div class="right floated left aligned fourteen wide column">
          <p style="margin-right:0px;"><i>Familiarise yourself with the chosen category and its related categories</i>.
              Our interface provides an overview of the category's meaning: hierarchy in the ontology, description,
              examples, and related categories (siblings & direct children).</p>
            <p style="margin-top:-25px;">By clicking on a related category you can display more information about it:</p>
        </div>
        <center>
            <img class="ui bordered shaded centered image" style="width:100%;box-shadow: 1px 4px 8px 1px rgba(0, 0, 0, 0.2), 1px 6px 20px 1px rgba(0, 0, 0, 0.19);margin-left:15px;margin-top:30px;" src="{% static 'img/train_interface.gif' %}"/><br>
        </center>
      </div>



    </div>

    <div class="ui middle aligned grid">
      <div class="row">
        
        <div class="two wide left floated column">
          <div class="ui basic segment ">
            <div class="ui red statistic">
              <div class="value">
                <b>3</b>
              </div>
              <div class="label">
               validate
              </div>
            </div>
          </div>
        </div>

        <div class="right floated left aligned fourteen wide column">
          <p style="text-align:justify;margin-right:70px;">You will be presented with pages of 12 sounds.
          Once sounds are validated: submit and continue to next page,
          we propose that you validate 6 pages. Validate the presented sounds according to the following question..</p>
            <p style="margin-top:-25px;"><i>Is</i> <span class="ui label">sound category</span> <i>present in the following sounds?</i></p>
          <p style="margin-top:-25px;text-align:left;margin-right:55px;">..and the following 4 possible answers:</p>
        </div>

      </div>
    </div>

<div class="ui grid" style="wide:120%;">
  <div class="six wide column">
      <center><img class="ui medium image" src="{% static 'img/vote_one_sound.png' %}"/><br>
      <p>The annotation interface features
        a link to <img class="ui inline image" style="width:80px;" src="{% static 'img/freesound_logo_color.png' %}">.
      In case of doubt, click it to check the sound’s description and tags.</p></center>
  </div>
  <div class="ten wide column">
      <table class="ui compact segment table"  style="width:100%;box-shadow: 1px 4px 8px 1px rgba(0, 0, 0, 0.2), 1px 6px 20px 1px rgba(0, 0, 0, 0.19);">
        <thead>
            <tr><th>Response type</th>
            <th>Meaning</th>
        </tr></thead>
        <tr><td><p><i>Present and predominant</i></p></td><td><p>
            The type of sound described is <i>clearly present</i> in the audio clip and it is <i>predominant</i>,
            either isolated from other types of sound or with low/mild background noise.
        </p></td></tr>
        <tr><td><p><i>Present but not predominant</i></p></td><td><p>
            The type of sound described is <i>present</i>, but the audio clip also <i>contains other salient
            types of sound and/or strong background noise</i>.
        </p></td></tr>
        <tr><td><p><i>Not present</i></p></td><td><p>
            The type of sound described is <i>not present</i> in the audio clip.
        </p></td></tr>
        <tr><td><p><i>Unsure</i></p></td><td><p>
            <i>I am not sure</i> whether the type of sound described is present or not.
        </p></td></tr>
    </table>
  </div>
</div>



</div>

<center>


<br>

<div class="ui basic labels" style="margin-top:20px; text-align: center;">
  <div class="ui basic label" style="text-align: center;background-color: transparent;border:transparent;">
      <center>
      <i class="sound icon huge back_clear"></i><br><br>
      <p class="small text">Use high-quality<br>headphones</p></center>
    </div>
  <div class="ui basic label" style="background-color: transparent;border:transparent;">
      <center>
      <i class="volume up icon huge back_clear"></i><br><br>
      <p class="small text">Set the volume to<br>a comfortable level</p></center>
    </div>
  <div class="ui basic label" style="background-color: transparent;border:transparent;">
      <center>
      <i class="heartbeat icon huge back_clear"></i><br><br>
      <p class="small text">Take a 10 minutes<br>break every hour</p></center>
    </div>
  <div class="ui basic label" style="background-color: transparent;border:transparent;">
      <center>
      <a  class="ui orange button right icon small">Help <i class="help icon"></i></a><br><br><br>
      <p class="small text">Click help to review<br>these instructions</p></center>
    </div>
</div>

<br><br><br>
<div id="start_annotating_button_div" class="ui center aligned grid" data-tooltip="Please take your time to read the instructions carefully before starting :)">
    <a id="start_annotating_button" href="{% url 'choose_category' dataset.short_name %}" class="ui big right labeled icon red button disabled"><i class="checkmark box icon"></i>I can't wait anymore, let's start!</a>
</div>



</center>
<!-- ALL THIS PART WAS HIDDEN!
    <div hidden>
        <h3>FAQ</h3>
        <table class="ui celled padded table">
            <tr><td>
                How should I rate human imitations?
                <p>If they sound like the original source, they should be rated as one type of <i>Present</i>.<br>
                Bad imitations should be rated as <i>Not Present</i>.</p>
            </td></tr>
            <tr><td>
                How should I rate synthesized sounds?
                <p>If they sound like the original source, they should be rated as one type of <i>Present</i>.<br>
                Bad synthetic sounds should be rated as <i>Not Present</i>.</p>
            </td></tr>
            <tr><td>
                How should I rate heavily processed sounds (e.g., using effects)?
                <p>Easily recognizable sounds should be rated as as one type of <i>Present</i>. <br>
                Sounds that are difficult to be recognized should be rated as <i>Not Present</i>.</p>
            </td></tr>
            <tr><td>
                How should I rate badly recorded sounds (e.g., clipping and/or strong noise)?
                <p>Easily recognizable sounds should be rated as as one type of <i>Present</i>. <br>
                Sounds that are very different from the original source should be rated as <i>Not Present</i>.</p>
            </td></tr>
            <tr><td>
                How should I rate reversed sounds?
                <p>Easily recognizable sounds should be rated as as one type of <i>Present</i>.<br>
                Sounds that are difficult to be recognized should be rated as <i>Not Present</i>.</p>
            </td></tr>
            <tr><td>
                In the context of the <div class="ui label">Vehicle</div> category: how should I rate announcements of flights/bus?
                <p>Rate it as <i>Not Present</i>.</p>
            </td></tr>

            <tr><td>
                <div class="ui label">Clatter</div> sounds need to be repetitive?
                <p>Yes, but is not necessary that it repeats during the whole clip.
                    <br>Considering the definition: "An <i>irregular</i> rattling noise, often produced by rapid movement, consisting of a cluster of transient sounds". <br><i>Irregular</i> suggests that the noise is repetitive.</p>
            </td></tr>
            <tr><td>
                How should I rate any sound generated by an <div class="ui label">Animal</div>?
                <br><i>Example 1: The sound of a horse walking should be rated as horse?</i>
                <br><i>Example 2: The sound of a cat/dog eating should be rated as cat/dog?</i>
                <p>Sounds generated by an animal should be rated as as one type of <i>Present</i>. Please be sure it corresponds to the specific animal class by accessing Freesound through the link (<i class="external icon"></i>).</p>
            </td></tr>
            <tr><td>
                How should I rate the sound produced by the retracting of the <div class="ui label">vacuum cleaner</div>'s cable?
                <p>Rate it as <i>Present</i>.</p>
            </td></tr>
        </table>
    </div>
 -->

<!-- help modal -->
<div id="help_modal" class="ui basic modal">
    <div class="ui icon header"><i class="help icon"></i>
        Summary of instructions
    </div>
    <div class="content">
        <div class="ui bulleted list">
            <div class="item">
                Response type meanings:
                <p>
                    <table class="ui celled padded inverted table">
                        <thead>
                        <tr><th>Response type</th>
                        <th>Meaning</th>
                        </tr></thead>
                        <tbody>
                        <tr>
                            <td>Present and predominant</td>
                            <td>Clearly present in the audio clip and predominant, either isolated from other types of sound or with low/mild background noise.</td>
                        </tr>
                        <tr>
                            <td>Present but not predominant</td>
                            <td>Present, but the audio clip also contains other salient types of sound and/or strong background noise.</td>
                        </tr>
                        <tr>
                            <td>Not Present</td>
                            <td>The type of sound is not present in the audio clip.</td>
                        </tr>
                        <tr>
                            <td>Unsure</td>
                            <td>I am not sure whether the type of sound is present or not.</td>
                        </tr>
                        </tbody>
                    </table>
                </p>
            </div>
            <div class="item">
                Please consider categories' <b>Hierarchy</b>, <b>Description</b> and related categories (siblings and/or direct children) before annotating
            </div>
            <div class="item">
                Check the sound’s <b>tags and description in Freesound</b> if you can’t make up your mind (use the
                link at the top right corner of every sound  (<span><small>see in </small><img
                    class="ui inline image" style="width:80px;" src="{% static 'img/freesound_logo_color.png' %}"></span>).
            </div>
            <div class="item">
                You can add general <b>comments about a category</b> at the bottom of the page
            </div>
            <div class="item">
                Check the <a href="{% url 'contribute-validate-annotations' dataset.short_name %}?help=1" target="_blank">full instructions</a> if you have any doubts
            </div>
        </div>
    </div>
    <div class="actions">
        <div class="green ui inverted button icon cancel">Ok</div>
    </div>
</div>
<!-- end help modal -->

<script type="text/javascript">
$(document).ready(function(){
    $('.ui.accordion').accordion();
});
</script>

{% endblock %}
