{% extends "base.html" %}
{% load staticfiles %}
{% load humanize %}
{% block title %}Validate category annotations{% endblock title %}
{% block page_js %}
    <script type="text/javascript">
        function enable_button() {
            $('#start_annotating_button').removeClass('disabled');
            $('#start_annotating_button_div').removeAttr("data-tooltip");
        }
        $(document).ready(function() {
            setTimeout(function() {enable_button();}, 20000);
            if ('{{skip_tempo}}'=='True'){enable_button();}
        });
    </script>
{% endblock %}
{% block content %}
<center>
    <div style="margin-top:-20px;" class="ui mini steps">
      <div class="step">
        <div class="content">
          <div class="title">FSD</div>
        </div>
      </div>
      <div class="step">
        <div class="content">
          <div class="title">Task1: validate category annotations</div>
        </div>
      </div>
      <div class="active step">
        <div class="content">
          <div class="title">Instructions</div>
        </div>
      </div>
      <div class="disabled step">
        <div class="content">
          <div class="title">1) Choose category</div>
        </div>
      </div>
      <div class="disabled step">
        <div class="content">
          <div class="title">2) Training</div>
        </div>
      </div>
      <div class="disabled step">
        <div class="content">
          <div class="title">3) Validate</div>
        </div>
      </div>
    </div>


    <h1>Instructions</h1>

<h3>Task: validating the presence of a sound category in audio samples</h3>
<p>Thank you for annotating! <i>Please read these instructions carefully.</i>


</center>

<br>

  <div class="ui container" style="width:90%;">
    <div class="ui middle aligned stackable grid container">
      <div class="row">
        
        <div class="two wide right floated column">
          <div class="ui basic segment ">
            <div class="ui red statistic">
              <div class="value">
                <b>1</b>
              </div>
              <div class="label">
               Choose<br>category
              </div>
            </div>
          </div>
        </div>
        
        <div class="right floated left aligned twelve wide column very">
          <p>Choose a sound category from the AudioSet Ontology. </p><p style="margin-top:-25px;"><i>If you don't feel comfortable</i> with your category, please <i>consider choosing another category</i>.

          </p>
        </div>
      </div>
    </div>
  
    <div class="ui middle aligned stackable grid container">
      <div class="row">

        <div class="two wide right floated column">
          <div class="ui basic segment ">
            <div class="ui red statistic">
              <div class="value">
               <b>2</b>
              </div>
              <div class="label">
               training
              </div>
            </div>
          </div>
        </div>
        
        <div class="right floated left aligned twelve wide column">
          <p><b style="color:red;">Familiarise yourself with your category and its related categories</b>. We provide an overview of the category's meaning: hierarchy in the ontology, description, examples, and related categories (siblings & direct children).</p> <p style="margin-top:-25px;"><i>Click on a related category to display more information!</i></p>

        </div>
        
      </div>

<div class="ui fluid accordion"  style="margin-top:-85px;">
  <div class="title"><div class="ui right floated basic segment">
  <p><button class="ui button mini" >How does the category<br>overview look like?</button></p></div></div>
      <div class="content field right floated">
		<br><br>
		<img class="ui bordered shaded centered image" style="margin-left:57px;width:100%;box-shadow: 1px 4px 8px 1px rgba(0, 0, 0, 0.2), 1px 6px 20px 1px rgba(0, 0, 0, 0.19);" src="{% static 'img/train_interface.gif' %}"/><br>
      </div>
    </div>
    </div>

    <div class="ui middle aligned stackable grid container">
      <div class="row">
        
        <div class="two wide right floated column">
          <div class="ui basic segment ">
            <div class="ui red statistic">
              <div class="value">
                <b>3</b>
              </div>
              <div class="label">
               validate
              </div>
            </div>
          </div>
        </div>
        
        <div class="right floated left aligned twelve wide column">
          <p style="text-align:justify;margin-right:70px;">Start validating sounds in your category according to the formulated question..</p>
                        <p style="margin-top:-25px;"><b style="color:red;">Is &#60;sound category&#62; present in the following sounds?</b></p>
<p style="margin-top:-25px;">..and the following <i>4 possible answers</i>:</p>
                
        </div>
      </div>
    </div>



                 <table class="ui compact inverted blue table" style="margin-left:57px;width:100%;margin-top:20px;background-color:#b3b3b3;box-shadow: 1px 4px 8px 1px rgba(0, 0, 0, 0.2), 1px 6px 20px 1px rgba(0, 0, 0, 0.19);">
                    <tr><td><p><b style="color:white">Present and predominant</b></p></td><td><p>
                        The type of sound described is <i>clearly present</i> in the audio clip and it is <i>predominant</i>,
                        either isolated from other types of sound or with low/mild background noise.
                    </p></td></tr>
                    <tr><td><p><b style="color:white">Present but not predominant</b></p></td><td><p>
                        The type of sound described is <i>present</i>, but the audio clip also <i>contains other salient
                        types of sound and/or strong background noise</i>.
                    </p></td></tr>
                    <tr><td><p><b style="color:white">Not Present</b></p></td><td><p>
                        The type of sound described is <i>not present</i> in the audio clip.
                    </p></td></tr>
                    <tr><td><p><b style="color:white">Unsure</b></p></td><td><p>
                        <i>I am not sure</i> whether the type of sound described is present or not.
                    </p></td></tr>
                </table>




</div>

<center>


<br><br>


<div class="ui relaxed grid" style="width:84%;margin-left:75px;">
  <div class="two column row">

    <div class="column">

<img class="ui massive image" src="{% static 'img/one_vote.png' %}"/>


    </div>

    <div class="column"><div class="ui segment" style="margin-top:15px;"><p>In the annotating interface you can find a link to <img class="ui inline image" style="width:80px;" src="{% static 'img/freesound_logo_color.png' %}">. In case of doubt, <i>click it to check the sound’s metadata</i>: description and tags.</p></div>

    <div class="column"><br><p>You will be presented with pages of 12 sounds. Once the sounds are annotated: <i>submit and continue to next page</i>. We propose that you annotate 6 pages.</p>
<br>

</div>

  </div>
</div>

<div class="ui basic labels" style="margin-top:20px; margin-left:125px; text-align: center;">
  <div class="ui basic label" style="text-align: center;background-color: transparent;border:transparent;">
      <center>
      <i class="sound icon huge back_clear"></i><br><br>
      <p class="small text">Use high-quality<br>headphones</p></center>
    </div>
  <div class="ui basic label" style="background-color: transparent;border:transparent;">
      <center>
      <i class="volume up icon huge back_clear"></i><br><br>
      <p class="small text">Set the volume to<br>a comfortable level</p></center>
    </div>
  <div class="ui basic label" style="background-color: transparent;border:transparent;">
      <center>
      <i class="heartbeat icon huge back_clear"></i><br><br>
      <p class="small text">Take a 10 minutes<br>brake every hour</p></center>
    </div>
  <div class="ui basic label" style="background-color: transparent;border:transparent;">
      <center>
      <!--<i class="help outline icon huge back_clear"></i>--><a href="javascript:void(0);" onclick="$('#help_modal').modal('show');" class="ui orange button right labeled icon small">Help <i class="help icon"></i></a><br><br><br>
      <p class="small text">Click help to review<br>these instructions</p></center>
    </div>
</div>

<br><br><br>

    <div id="start_annotating_button_div" class="ui grid" data-tooltip="Please take your time to read the instructions carefully before starting :)" style="margin-left:235px;margin-top:40px;">
        <a id="start_annotating_button" href="{% url 'choose_category' dataset.short_name %}" class="ui big right labeled icon red button disabled"><i class="right arrow icon"></i>I can't wait anymore, let's start!</a>
    </div>

</center>

<br><br><br><br><br><br><br><br><br><br><br><br>
<center>
<div class="ui raised tertiary red segment centered" style="width:65%;text-align:left;">

 <p><b>Are you finding it difficult?</b> Access Freesound through the link at the top
                right corner of every sound (<span><small>see in </small><img class="ui inline image" style="width:80px;" src="{% static 'img/freesound_logo_color.png' %}"></span>) to check the sound’s metadata (description and tags).</p>
      


<p>During the task, click on <a href="javascript:void(0);" onclick="$('#help_modal').modal('show');" class="ui orange button right labeled icon small">Help <i class="help icon"></i></a> to consult a summarized version of these instructions.</p>

<p>Put your <b>headphones, adjust sound level</b> comfortably and listen to the provided examples.</p>

<p><b>Annotated more than an hour?</b> Please take a 10 minutes break.</p>


</div>

</center>


<!-- INIT -->
        <div class="right floated left aligned twelve wide column very">
          <p>Choose a sound category from the AudioSet Ontology. </p><p style="margin-top:-25px;"><i>If you don't feel comfortable</i> with the category you choosed, please <i>consider changing it</i> by clicking: &nbsp;&nbsp;&nbsp; <a href="{% url 'choose_category' dataset.short_name %}" class="blue ui button right labeled icon">Choose another category <i class="refresh icon"></i></a>

          </p>
        </div>
<!-- END INIT -->
<br>
<br>
<br>
<br>
<br><br><br><br><br><br><br><br><br><br><br><br>




    <a id="how-to-validate-a-category"></a>
    <table class="ui celled compact definition table">
        <tr><td>Choose category</td>
            <td>
                <!--<img class="ui bordered right floated large image" src="{% static 'img/screen_choose_table.png' %}"/>-->
                <span>
                    <p>
                        First you will have to <b>choose a sound category</b> from the AudioSet Ontology.
                        Three tables are available in order to provide you different ways for selecting your category.
                    </p>
                </span>
            </td>
        <tr><td>Training</td>
            <td>
                <img class="ui bordered right floated large image" src="{% static 'img/screen_explicit_training.png' %}"/>
                <span>
                    <p><b>Familiarise yourself with your category and its related categories</b>.
                        The section at the top of the page gives you an overview of the category and its meaning:
                        hierarchy in the ontology, related categories (siblings and direct children),
                        description, examples and frequently asked questions. Click on a related category to display
                        some more information.
                        Put your headphones, adjust sound level comfortably and listen to the provided examples.
                        <b>If you don't feel comfortable</b> with the category you are in, please <b>consider changing</b>
                        by going back to the previous step.
                    </p>
                </span>
            </td>
        <tr><td>Validate</td>
            <td>
                <img class="ui bordered right floated large image" src="{% static 'img/screen_votes.png' %}"/>
                <span>
                    <p>For each category you will be presented with pages of 12 sounds.
                       <b>Start rating sounds in your category</b> according to the formulated question:
                        <b>Is &#60;sound category&#62; present in the following sounds?</b>
                        <br>There are 4 possible answers:</p>
                </span>
                <table class="ui compact table">
                    <tr><td><p><i>Present and predominant</i></p></td><td><p>
                        The type of sound described is <b>clearly present</b> in the audio clip and it is <b>predominant</b>,
                        either isolated from other types of sound or with low/mild background noise.
                    </p></td></tr>
                    <tr><td><p><i>Present but not predominant</i></p></td><td><p>
                        The type of sound described is <b>present</b>, but the audio clip also <b>contains other salient
                        types of sound and/or strong background noise</b>.
                    </p></td></tr>
                    <tr><td><p><i>Not Present</i></p></td><td><p>
                        The type of sound described is <b>not present</b> in the audio clip.
                    </p></td></tr>
                    <tr><td><p><i>Unsure</i></p></td><td><p>
                        <b>I am not sure</b> whether the type of sound described is present or not.
                    </p></td></tr>
                </table>
            </td>
        </tr>
        <tr><td>Submit</td>
            <td>
                <b>Submit your ratings for this page</b> and either:
                <div class="ui bulleted list">
                <div class="item"> continue with the next page in this category (we propose that you annotate 5 to 10 pages)</div>
                <div class="item"> move to another category :) </div>


            </td>
        </tr>
    </table>

    <table class="ui very compact definition table">
        <tr><td>
            <p><b>Are you finding it difficult?</b> Feel free to access Freesound through the link at the top
                right corner of every sound (<span><small>see in </small><img class="ui inline image" style="width:80px;" src="{% static 'img/freesound_logo_color.png' %}"></span>) to check the sound’s metadata (description and tags).</p>
        </td></tr>
        <tr><td>
            <p>If you annotate for an hour please take a <b>10 minutes break</b>.</p>
        </td></tr>
        <tr><td>
            <p>
                <b>You can click the help button</b> next to the formulated question to see a short version of these guidelines.
            </p>
        </td></tr>
    </table>

    <div hidden>
        <h3>FAQ</h3>
        <table class="ui celled padded table">
            <tr><td>
                How should I rate human imitations?
                <p>If they sound like the original source, they should be rated as one type of <i>Present</i>.<br>
                Bad imitations should be rated as <i>Not Present</i>.</p>
            </td></tr>
            <tr><td>
                How should I rate synthesized sounds?
                <p>If they sound like the original source, they should be rated as one type of <i>Present</i>.<br>
                Bad synthetic sounds should be rated as <i>Not Present</i>.</p>
            </td></tr>
            <tr><td>
                How should I rate heavily processed sounds (e.g., using effects)?
                <p>Easily recognizable sounds should be rated as as one type of <i>Present</i>. <br>
                Sounds that are difficult to be recognized should be rated as <i>Not Present</i>.</p>
            </td></tr>
            <tr><td>
                How should I rate badly recorded sounds (e.g., clipping and/or strong noise)?
                <p>Easily recognizable sounds should be rated as as one type of <i>Present</i>. <br>
                Sounds that are very different from the original source should be rated as <i>Not Present</i>.</p>
            </td></tr>
            <tr><td>
                How should I rate reversed sounds?
                <p>Easily recognizable sounds should be rated as as one type of <i>Present</i>.<br>
                Sounds that are difficult to be recognized should be rated as <i>Not Present</i>.</p>
            </td></tr>
            <tr><td>
                In the context of the <div class="ui label">Vehicle</div> category: how should I rate announcements of flights/bus?
                <p>Rate it as <i>Not Present</i>.</p>
            </td></tr>

            <tr><td>
                <div class="ui label">Clatter</div> sounds need to be repetitive?
                <p>Yes, but is not necessary that it repeats during the whole clip.
                    <br>Considering the definition: "An <i>irregular</i> rattling noise, often produced by rapid movement, consisting of a cluster of transient sounds". <br><i>Irregular</i> suggests that the noise is repetitive.</p>
            </td></tr>
            <tr><td>
                How should I rate any sound generated by an <div class="ui label">Animal</div>?
                <br><i>Example 1: The sound of a horse walking should be rated as horse?</i>
                <br><i>Example 2: The sound of a cat/dog eating should be rated as cat/dog?</i>
                <p>Sounds generated by an animal should be rated as as one type of <i>Present</i>. Please be sure it corresponds to the specific animal class by accessing Freesound through the link (<i class="external icon"></i>).</p>
            </td></tr>
            <tr><td>
                How should I rate the sound produced by the retracting of the <div class="ui label">vacuum cleaner</div>'s cable?
                <p>Rate it as <i>Present</i>.</p>
            </td></tr>
        </table>
    </div>

    <br><br>
    <div id="start_annotating_button_div" class="ui center aligned grid" data-tooltip="Please take your time to read the instructions carefully before starting :)">
        <a id="start_annotating_button" href="{% url 'choose_category' dataset.short_name %}" class="ui big right labeled icon blue button disabled"><i class="checkmark box icon"></i>I can't wait anymore, let's start!</a>
    </div>


    <!-- help modal -->
    <div id="help_modal" class="ui basic modal">
        <div class="ui icon header"><i class="help icon"></i>
            Summary of instructions
        </div>
        <div class="content">
            <div class="ui bulleted list">
                <div class="item">
                    Response type meanings:
                    <p>
                        <table class="ui celled padded inverted table">
                            <thead>
                            <tr><th>Response type</th>
                            <th>Meaning</th>
                            </tr></thead>
                            <tbody>
                            <tr>
                                <td>Present and predominant</td>
                                <td>Clearly present in the audio clip and predominant, either isolated from other types of sound or with low/mild background noise.</td>
                            </tr>
                            <tr>
                                <td>Present but not predominant</td>
                                <td>Present, but the audio clip also contains other salient types of sound and/or strong background noise.</td>
                            </tr>
                            <tr>
                                <td>Not Present</td>
                                <td>The type of sound is not present in the audio clip.</td>
                            </tr>
                            <tr>
                                <td>Unsure</td>
                                <td>I am not sure whether the type of sound is present or not.</td>
                            </tr>
                            </tbody>
                        </table>
                    </p>
                </div>
                <div class="item">
                    Please consider categories' <b>Hierarchy</b>, <b>Description</b> and related categories (siblings and/or direct children) before annotating
                </div>
                <div class="item">
                    Check the sound’s <b>tags and description in Freesound</b> if you can’t make up your mind (use the
                    link at the top right corner of every sound  (<span><small>see in </small><img
                        class="ui inline image" style="width:80px;" src="{% static 'img/freesound_logo_color.png' %}"></span>).
                </div>
                <div class="item">
                    You can add general <b>comments about a category</b> at the bottom of the page
                </div>
                <div class="item">
                    Check the <a href="{% url 'contribute-validate-annotations' dataset.short_name %}?help=1" target="_blank">full instructions</a> if you have any doubts
                </div>
            </div>
        </div>
        <div class="actions">
            <div class="green ui inverted button icon cancel">Ok</div>
        </div>
    </div>
    <!-- end help modal -->

<script type="text/javascript">
$(document).ready(function(){
    $('.ui.accordion').accordion();
});

</script>

{% endblock %}
