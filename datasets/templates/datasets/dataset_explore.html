{% extends "base.html" %}
{% load staticfiles %}
{% load humanize %}
{% block title %}Explore{% endblock title %}
{% block page_js %}
    <script type="text/javascript">
        $(document).ready(function() {
            loadDatasetTaxonomyTable();
            loadOntologyTree();
            $('.menu .item').tab();
        });

        function loadDatasetTaxonomyTable(){
            $( "#dataset_taxonomy_table_placeholder" ).load( "{% url 'taxonomy-table' dataset.short_name %}", function() {
                $('#dataset_contents').DataTable({
                    'paging': true,
                    'info': true,
                });
                $('#dataset_contents_paginate').parent().attr('style', 'width: 100% !important');
            });
        }
    </script>
{% endblock %}
{% block content %}
    <h1 class="ui header">Explore the {{ dataset.name }}</h1>
<div class="ui error message">
  <i class="close icon"></i><p>Since the first FSD release does not exist, <b>you can only explore the automatically generated candidate annotations</b>.</p>
  <p>Categories shaded in red are AudioSet categories that are not considered for the next release of {{ dataset.short_name|upper }}.</p>
</div>

<div class="ui red two item top attached tabular inverted menu">
  <a class="item active" data-tab="first">
      <i class="list layout icon"></i> Table
  </a>
  <a class="item" data-tab="second">
      <i class="tree icon"></i> Tree
  </a>
</div>
<div class="ui bottom attached tab segment active" data-tab="first">
    <div id="dataset_taxonomy_table_placeholder" class="tabcontent">
        <div class="ui active centered inline text loader">Loading data...</div>
    </div>
</div>
<div class="ui bottom attached tab segment" data-tab="second">
    {% include "datasets/ontology_tree.html" %}
</div>


{% endblock %}
