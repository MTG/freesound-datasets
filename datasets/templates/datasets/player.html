{% load staticfiles %}

{% block extra_head %}
    <link rel="stylesheet" type="text/css" href="{% static "audio-annotator/css/player.css" %}"/>
    <script src="{% static "audio-annotator/js/lib/materialize.min.js" %}" type="text/javascript"></script>
    <script src="{% static "audio-annotator/js/lib/wavesurfer.alt.js" %}" type="text/javascript"></script>
    <script src="{% static "audio-annotator/js/lib/wavesurfer.spectrogram.min.js" %}" type="text/javascript"></script>
    <script src="{% static "audio-annotator/js/colormap/colormap.min.js" %}" type="text/javascript"></script>
    <script src="{% static "audio-annotator/js/src/annotation_stages.js" %}" type="text/javascript"></script>
    <script src="{% static "audio-annotator/js/src/hidden_image.js" %}" type="text/javascript"></script>
    <script src="{% static "audio-annotator/js/src/components.js" %}" type="text/javascript"></script>
    <script src="{% static "audio-annotator/js/src/player.js" %}" type="text/javascript"></script>
{% endblock %}

{% block page_js %}
    <script type="text/javascript">
    $("#s{{ freesound_id }}_{{ player_id }}").ready(function () {

        // All parameters are required apart from:
        //      size -> can be  "small"
        //                      "medium" (default)
        //                      "big"
        //      height (default: "100"), overrides size
        var playerOptions = {
            size: "{{ player_size }}",
            //height: 100,
            player_id: "{{ player_id }}",
            freesound_id: "{{ freesound_id }}",
            sound_url: "{{ sound_url }}",
            waveform_url: "{{ waveform_url }}",
            spectrogram_url: "{{ spectrogram_url }}",
        };

        var player = new Player(playerOptions)
    });
    </script>
{% endblock %}

<div class="player_container">
    <div class="soundplayer {{ player_size }}" id="s{{ freesound_id }}_{{ player_id }}">
        <div class="ui active dimmer">
            <div class="ui loader"></div>
        </div>
        <div class="wavesurfer"></div>
        <div class="playbar"></div>
    </div>
</div>
