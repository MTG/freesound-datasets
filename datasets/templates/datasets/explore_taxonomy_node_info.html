{% load dataset_templatetags %}
{% load general_templatetags %}

<div class="ui card">

    <div class="content">

        <div class="right floated">
            <button class="ui icon button close-card">
                <i class="chevron up icon"></i>
            </button>
        </div>
        <div class="ui header">
            {{ node.name }}
            <a href="{% url "dataset-explore-taxonomy-node" dataset.short_name node.url_id %}" title="Go to category page" target="_blank"><i class="external square alternate icon"></i></a>
        </div>

        {% for hierarchy_path in node.hierarchy_paths %}
        <div class="ui small breadcrumb">
            <div class="section">Ontology</div>
            <i class="right chevron icon divider"></i>
            {% for node_id in hierarchy_path %}
                {% taxonomy_node dataset node_id as sub_node_data %}
                <a class="section">{{ sub_node_data.name }}</a>
                {% if not forloop.last %}
                    <i class="right chevron icon divider"></i>
                {% endif %}
            {% endfor %}
        </div>
        {% endfor %}

        <div class="description">
            <p>{{ node.description }}</p>
        </div>

    </div>

    {% if node.freesound_examples %}
    <div class="content">
        <div class="title">
            Sound examples
        </div>
        {% for fsid in node.freesound_examples %}
            {% sound_player dataset fsid "small" %}
        {% endfor %}
    </div>
    {% endif %}

</div>
